{"version":3,"file":"deletemodal.min.js","sources":["../src/deletemodal.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Plugin version info\n *\n * @module    tool_tasiobg/deletemodal\n * @copyright  2025 Tasio Bertomeu Gomez <tasio.bertomeu@moodle.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport {deleteCourseAndLoadPage} from './repository';\nimport ModalSaveCancel from 'core/modal_save_cancel';\nimport ModalEvents from 'core/modal_events';\nimport {get_string as getString} from 'core/str';\n\n/**\n * Entrypoint of the js.\n *\n * @method init\n */\nexport const init = async() => {\n    const deletelinks = document.querySelectorAll('#tasiobg-course-list-table .deletelink');\n    if (deletelinks.length > 0) {\n        deletelinks.forEach(deletelink => {\n            deletelink?.addEventListener('click', async(e) => {\n                e.preventDefault();\n                const modal = await ModalSaveCancel.create({\n                    title: getString('delete'),\n                    body: getString('deletemodalconfirmation', 'tool_tasiobg'),\n                    show: true,\n                    removeOnClose: true,\n                    buttons: {\n                        'save': getString('delete'),\n                        'cancel': getString('cancel'),\n                    }\n                });\n                modal.getRoot().on(ModalEvents.save, () => {\n                    deleteCourseAndLoadPage(deletelink.getAttribute('data-courseid'));\n                });\n            });\n        });\n    }\n};\n"],"names":["async","deletelinks","document","querySelectorAll","length","forEach","deletelink","addEventListener","e","preventDefault","ModalSaveCancel","create","title","body","show","removeOnClose","buttons","getRoot","on","ModalEvents","save","getAttribute"],"mappings":";;;;;;;kNAiCoBA,gBACVC,YAAcC,SAASC,iBAAiB,0CAC1CF,YAAYG,OAAS,GACrBH,YAAYI,SAAQC,aAChBA,MAAAA,YAAAA,WAAYC,iBAAiB,SAASP,MAAAA,IAClCQ,EAAEC,wBACkBC,2BAAgBC,OAAO,CACvCC,OAAO,mBAAU,UACjBC,MAAM,mBAAU,0BAA2B,gBAC3CC,MAAM,EACNC,eAAe,EACfC,QAAS,OACG,mBAAU,kBACR,mBAAU,cAGtBC,UAAUC,GAAGC,sBAAYC,MAAM,6CACTd,WAAWe,aAAa"}